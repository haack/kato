<html>
<head>
</head>
<body>

What's your jam?
<input type="checkbox" name="rap" onclick="binaryValueChange('musicGenres', 'rap', this)">Rap
<input type="checkbox" name="heavy" onclick="binaryValueChange('musicGenres', 'heavy', this)">Something heavier
<input type="checkbox" name="classical" onclick="binaryValueChange('musicGenres', 'classical', this)">Classical
<input type="checkbox" name="rave" onclick="binaryValueChange('musicGenres', 'rave', this)">Rave
<hr />
What languages do you speak?
<input type="checkbox" name="rap" onclick="binaryValueChange('languages', 'french', this)">French
<input type="checkbox" name="heavy" onclick="binaryValueChange('languages', 'spanish', this)">Spanish
<input type="checkbox" name="classical" onclick="binaryValueChange('languages', 'vietnamese', this)">Vietnamese
<input type="checkbox" name="rave" onclick="binaryValueChange('languages', 'english', this)">English
<hr />
Rate titanic:
<input type="number" min=0 max=5 onclick="numericValueChange('movies', 'titanic', this)"/>
<script>
    let data = {
        languages: { //checkboxes
            french: null, //boolean
            spanish: null, //boolean
            english: null, //boolean
            vietnamese: null, //boolean
            russian: null, //boolean
        },
        musicGenres: { //checkboxes
            rap: null, //boolean
            heavy: null, //boolean
            classical: null, //boolean
            rave: null, //boolean
        },
        movies: {
            titanic: null, //5 star rating
            diehard: null, //either yay, me, nah
        },
        drink: { //radio buttons
            favourite: null, //either tequila, coffee, coca-cola, none
        },
        food: {
            sushi: null, //either yay, meh, nah
            pizza: null, //5 star rating
            hotdog: null, //boolean
        },
        other: {
            baller: null, //either everyday, notreally, noidea
            musicPeakedIn80s: null //boolean
        },
    };

    function binaryValueChange(category, key, input) {
        let checked = input.checked;
        data[category][key] = checked || null;
        console.log(data);

        predict();
    }

    function numericValueChange(category, key, input) {
        let value = input.value;
        data[category][key] = parseInt(value) || null;
        console.log(data);

        predict();
    }

    function predict() {
        //TODO: post data object to server
            //TODO: show results on right panel
                //results: [{ name: 'London', ranking: '1'}] //ranking is from 0 to 1
    }

    function randomRecommendations() {
        let exampleRecommendations = [
            'London', 'Helsinki', 'Hanoi', 'Tokyo'
        ].sort(() => .5 - Math.random());

        let ranking = 1;

        return exampleRecommendations.map(name => {
            ranking -= (Math.random() / 4);
            return {
                name,
                ranking,
            };
        })
    }

    console.log(randomRecommendations());
</script>
</body>
</html>
